<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started • phylobar</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">phylobar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/atlas.html">Tipping Points in the Atlas 1006 Dataset</a></li>
    <li><a class="dropdown-item" href="../articles/covid_immunology.html">Cell-type Hierarchy Informs COVID-19 Immunology</a></li>
    <li><a class="dropdown-item" href="../articles/customizing_files.html">Customizing Style in phylobar</a></li>
    <li><a class="dropdown-item" href="../articles/diet_analysis.html">Differences in the Community Composition due to Diet</a></li>
    <li><a class="dropdown-item" href="../articles/exporting.html">Exporting to Vector Graphics Format</a></li>
    <li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/global_patterns.html">Working with phyloseq and TreeSummarizedExperiment versions of the Global Patterns Dataset</a></li>
    <li><a class="dropdown-item" href="../articles/hfhs.html">The effect of a high-fat high-sugar (HFHS) diet on the mouse microbiome</a></li>
    <li><a class="dropdown-item" href="../articles/runtime_evaluation.html">Comparing Runtime across Sample Sizes and Number of Taxa</a></li>
    <li><a class="dropdown-item" href="../articles/taxonomies.html">Building Trees from Taxonomies</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mkdiro-O/phylobar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mkdiro-O/phylobar/blob/HEAD/vignettes/getting_started.Rmd" class="external-link"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>phylobar is a visualization package for constructing stacked barplots
by interactively “painting” an associated tree. This is an alternative
to defining a color palette at a fixed taxonomic resolution. It also
helps avoid the issue of grouping all rare taxa into a color for “other”
— you can selectively highlight specific rare taxa while leaving others
at their background color.</p>
<p>The main function, <code><a href="../reference/phylobar.html">phylobar()</a></code>, takes two inputs: a table
of (potentially normalized) counts and a tree structure which can come
from either a phylogeny or a table of taxonomic assignments. You can
read more about the package in our preprint:</p>
<blockquote>
<p>Kuo, M., Lê Cao, K.-A., Kodikara, S., Mao, J., &amp; Sankaran, K.
(2025). phylobar: an R package for multiresolution compositional
barplots in omics studies. <a href="doi:10.1101/2025.11.05.686662" class="uri">doi:10.1101/2025.11.05.686662</a></p>
</blockquote>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of phylobar from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"mkdiro-o/phylobar"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>The block below applies phylobar to a small random dataset. Click a
node to collapse a subtree, press the Control key to add a new color,
and press the Escape key to freeze the view.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/emmanuelparadis/ape" class="external-link">ape</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mkdiro-O/phylobar" class="external-link">phylobar</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ape/man/rtree.html" class="external-link">rtree</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="fl">20</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fl">100</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/phylobar.html">phylobar</a></span><span class="op">(</span><span class="va">samples</span>, <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<p>The vignettes below walk through common workflows and fully developed
case studies. They are grouped into <strong>workflow</strong> vignettes
(how to prepare, style, and export phylobar plots) and
<strong>case-study</strong> vignettes (biological analyses that
illustrate phylobar in practice).</p>
<div class="section level3">
<h3 id="workflow-vignettes">Workflow Vignettes<a class="anchor" aria-label="anchor" href="#workflow-vignettes"></a>
</h3>
<div class="section level4">
<h4 id="building-trees-from-taxonomies">
<a href="taxonomies.html">Building Trees from Taxonomies</a><a class="anchor" aria-label="anchor" href="#building-trees-from-taxonomies"></a>
</h4>
<p>Rather than interacting with abstract phylogenetic trees, it can be
helpful to choose stacked bar colors using taxonomic assignments. This
vignette gives a comprehensive guide to converting taxonomy tables into
valid <code>phylo</code> objects via <code><a href="../reference/taxonomy_to_tree.html">taxonomy_to_tree()</a></code>. It
covers three common pitfalls — missing root nodes, missing assignments
encoded as strings instead of <code>NA</code>, and duplicated names
across taxonomic levels — and shows how to resolve each with
<code><a href="../reference/add_prefix.html">add_prefix()</a></code> and <code><a href="https://rdrr.io/pkg/ape/man/checkValidPhylo.html" class="external-link">checkValidPhylo()</a></code>.</p>
</div>
<div class="section level4">
<h4 id="customizing-style">
<a href="customizing_files.html">Customizing Style</a><a class="anchor" aria-label="anchor" href="#customizing-style"></a>
</h4>
<p>Phylobar supports several styling options, including custom color
palettes, widget dimensions, sample label font and margin settings,
tree-bar layout ratios (<code>rel_width</code>, <code>rel_height</code>,
<code>rel_space</code>), legend placement, and hierarchical reordering
with <code>hclust_order</code>. This vignette walks through all
currently available parameters.</p>
</div>
<div class="section level4">
<h4 id="exporting-views">
<a href="exporting.html">Exporting Views</a><a class="anchor" aria-label="anchor" href="#exporting-views"></a>
</h4>
<p>While interactivity is useful for exploration, we often need to
export a specific static view to discuss with collaborators. This
vignette shows how to export phylobar visualizations to SVG using the
SVG Crowbar bookmarklet, edit the resulting layered SVG in Inkscape, and
export to PNG — preserving image quality for publication.</p>
</div>
<div class="section level4">
<h4 id="runtime-evaluation">
<a href="runtime_evaluation.html">Runtime Evaluation</a><a class="anchor" aria-label="anchor" href="#runtime-evaluation"></a>
</h4>
<p>This vignette benchmarks <code><a href="../reference/phylobar.html">phylobar()</a></code> across a grid of
sample counts and taxa counts, with and without hierarchical clustering.
It shows that disabling <code>hclust_order</code> improves performance
at large sample sizes, and recommends using
<code><a href="../reference/subset_cluster.html">subset_cluster()</a></code> to keep the number of samples
browser-friendly.</p>
</div>
</div>
<div class="section level3">
<h3 id="case-study-vignettes">Case-Study Vignettes<a class="anchor" aria-label="anchor" href="#case-study-vignettes"></a>
</h3>
<div class="section level4">
<h4 id="hfhs-diet-and-the-mouse-microbiome">
<a href="hfhs.html">HFHS Diet and the Mouse Microbiome</a><a class="anchor" aria-label="anchor" href="#hfhs-diet-and-the-mouse-microbiome"></a>
</h4>
<p>Analyzes 16S rRNA data from 47 mice on either normal or high-fat,
high-sugar (HFHS) diets across four timepoints. The vignette reproduces
known findings of decreased Bacteroidetes and increased Firmicutes under
HFHS and adds a longitudinal view tracking individual mice over
time.</p>
</div>
<div class="section level4">
<h4 id="atlas-1006-tipping-points-in-the-human-gut">
<a href="atlas.html">Atlas 1006 — Tipping Points in the Human
Gut</a><a class="anchor" aria-label="anchor" href="#atlas-1006-tipping-points-in-the-human-gut"></a>
</h4>
<p>Demonstrates phylobar on the HITChip Atlas 1006 human gut microbiome
dataset, highlighting “tipping element” taxa and the
Firmicutes/Bacteroidetes balance. It also shows how
<code><a href="../reference/subset_cluster.html">subset_cluster()</a></code> can reduce visual clutter by selecting
representative samples.</p>
</div>
<div class="section level4">
<h4 id="diet-analysis-with-deseq2-normalization">
<a href="diet_analysis.html">Diet Analysis with DESeq2
Normalization</a><a class="anchor" aria-label="anchor" href="#diet-analysis-with-deseq2-normalization"></a>
</h4>
<p>Examines how diet shapes gut microbiome composition using the
<code>dietswap</code> dataset. It applies DESeq2 normalization via
MicrobiomeStat, builds a taxonomy tree, and visualizes the resulting
abundances with phylobar.</p>
</div>
<div class="section level4">
<h4 id="global-patterns-phyloseq-and-treesummarizedexperiment">
<a href="global_patterns.html">Global Patterns — phyloseq and
TreeSummarizedExperiment</a><a class="anchor" aria-label="anchor" href="#global-patterns-phyloseq-and-treesummarizedexperiment"></a>
</h4>
<p>Shows how to create phylobar plots from both <code>phyloseq</code>
and <code>TreeSummarizedExperiment</code> input objects using the Global
Patterns dataset, demonstrating that both container formats work
interchangeably.</p>
</div>
<div class="section level4">
<h4 id="covid-19-immunology-beyond-microbiome-data">
<a href="covid_immunology.html">COVID-19 Immunology — Beyond
Microbiome Data</a><a class="anchor" aria-label="anchor" href="#covid-19-immunology-beyond-microbiome-data"></a>
</h4>
<p>Applies phylobar to immune cell-type compositions from COVID-19
patient data, using a manually defined cell-type hierarchy in place of a
microbial taxonomy. This vignette illustrates phylobar’s applicability
beyond microbiome studies.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="function-reference">Function Reference<a class="anchor" aria-label="anchor" href="#function-reference"></a>
</h2>
<p>The full function reference is available at <a href="https://mkdiro-o.github.io/phylobar/reference/index.html" class="external-link">https://mkdiro-o.github.io/phylobar/reference/</a>.</p>
</div>
<div class="section level2">
<h2 id="contact">Contact<a class="anchor" aria-label="anchor" href="#contact"></a>
</h2>
<p>You can reach us by creating an <a href="https://github.com/mkdiro-O/phylobar/issues" class="external-link">Issue</a> or emailing
<a href="mailto:ksankaran@wisc.edu">ksankaran@wisc.edu</a>. We
appreciate your interest and will respond promptly.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.5.2 (2025-10-31)</span></span>
<span><span class="co">#&gt; Platform: aarch64-apple-darwin20</span></span>
<span><span class="co">#&gt; Running under: macOS Sequoia 15.7.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib </span></span>
<span><span class="co">#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: America/Chicago</span></span>
<span><span class="co">#&gt; tzcode source: internal</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] BiocStyle_2.37.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] cli_3.6.5           knitr_1.51          rlang_1.1.7        </span></span>
<span><span class="co">#&gt;  [4] xfun_0.55           otel_0.2.0          textshaping_1.0.4  </span></span>
<span><span class="co">#&gt;  [7] jsonlite_2.0.0      htmltools_0.5.9     ragg_1.5.0         </span></span>
<span><span class="co">#&gt; [10] sass_0.4.10         rmarkdown_2.30      evaluate_1.0.5     </span></span>
<span><span class="co">#&gt; [13] jquerylib_0.1.4     fastmap_1.2.0       yaml_2.3.12        </span></span>
<span><span class="co">#&gt; [16] lifecycle_1.0.5     bookdown_0.45       BiocManager_1.30.26</span></span>
<span><span class="co">#&gt; [19] compiler_4.5.2      fs_1.6.6            htmlwidgets_1.6.4  </span></span>
<span><span class="co">#&gt; [22] systemfonts_1.3.1   digest_0.6.39       R6_2.6.1           </span></span>
<span><span class="co">#&gt; [25] bslib_0.9.0         tools_4.5.2         pkgdown_2.1.3      </span></span>
<span><span class="co">#&gt; [28] cachem_1.1.0        desc_1.4.3</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kris Sankaran, Megan Kuo, Saritha Kodikara, Jiadong Mao.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
